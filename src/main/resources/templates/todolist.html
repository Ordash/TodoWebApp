<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Todo</title>
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
</head>
<body>
<h1 onclick="location.href='/todo/list'">Todos for today</h1>
<div>
    <a th:href="@{/todo/add}">Add new todo</a>
    <a th:href="@{/todo/?isActive=true}">Active todos</a>
    <a th:href="@{/assignee/list}">Assignees</a>

</div>
<div>
    <form th:action="@{/todo/list}" method="get">
        <input type="text" name="search" placeholder="search"/>
        <button type="submit">Search</button>
    </form>
</div>
<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>Action</th>
        <th>Done</th>
        <th>Urgent</th>
        <th>Date</th>
        <th>Assignee</th>

    </tr>
    </thead>
    <tbody>
    <tr th:each="todo : ${todos}" th:object="${todo}">
        <td th:text="*{id}"></td>
        <td><a th:href="@{|/todo/?desc=${todo.id}&search=${searchstring}|}" th:text="*{title}" ></a></td>
        <td th:text="*{done}"></td>
        <td th:text="*{urgent}"></td>
        <td th:text="*{date}"></td>
        <td th:text="*{assignee != null} ? *{assignee.name} : 'Not assigned'"></td>

        <td><a th:href="@{|/todo/${todo.id}/delete|}">delete</a></td>

        <td><a th:href="@{|/todo/${todo.id}/edit|}">edit</a></td>

    </tr>
    </tbody>
</table>
<div class=" description" th:if="${desc} != null">
    <h1>Description</h1>
    <p th:text="${desc.description}"></p>
</div>

</body>
</html>